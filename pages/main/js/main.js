async function getData(){const e=await fetch("../source/pets.json");return await e.json()}async function createPopups(){const e=await getData();let t=document.getElementById("popup"),s=document.body;const n=window.innerWidth-s.clientWidth+"px";let i,o;function c(){t.classList.add("visible"),s.classList.add("lock"),s.style.paddingRight=n}function a(){t.classList.remove("visible"),setTimeout((()=>{document.body.classList.remove("lock"),s.style.paddingRight=0}),400)}document.addEventListener("click",(s=>{let n=s.target.closest(".card");if(n){!function(s){if(i===s.querySelector(".card__name").innerText)return void c();o&&o.remove();let n=function(t){let s;i=t.querySelector(".card__name").innerText;for(let t of e)t.name==i&&(s=t);let n=s.img.replace("../../assets/images/","../../assets/images/popup/");n=n.replace("pets-",""),n=n.replace("jpg","png");let o=document.createElement("div");return o.classList.add("popup__body"),o.innerHTML=`\n            <div class="popup__content">\n                <div class="popup__close"><img src="../../assets/icons/close.svg" alt=""></div>\n                <div class="popup__image"><img src="${n}" alt=""></div>\n                <div class="popup__text-block">\n                    <h3 class="popup__title title">${i}</h3>\n                    <div class="popup__subtitle">${s.type} - ${s.breed}</div>\n                    <p class="popup__text">${s.description}</p>\n                    <ul class="popup__list">\n                        <li class="popup__li"><strong>Age:</strong> ${s.age}</li>\n                        <li class="popup__li"><strong>Inoculations:</strong> ${s.inoculations}</li>\n                        <li class="popup__li"><strong>Diseases:</strong> ${s.diseases}</li>\n                        <li class="popup__li"><strong>Parasites:</strong> ${s.parasites}</li>\n                    </ul>\n                </div>\n            </div>`,o}(s);o=n,t.append(n),c()}(n),document.querySelector(".popup__close").addEventListener("click",(()=>{a()}))}else!s.target.closest(".popup__content")&&t.classList.contains("visible")&&a()}))}document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelector(".header__burger"),t=document.querySelector(".header__nav"),s=document.createElement("div");function n(){e.classList.toggle("active"),t.classList.toggle("active"),document.body.classList.toggle("lock"),s.classList.toggle("lock")}s.classList.add("header__mask"),document.body.querySelector(".header").prepend(s),e.addEventListener("click",(function(e){e.stopPropagation(),n()})),document.addEventListener("click",(e=>{let s=e.target,i=s.closest("a"),o=s==t||t.contains(s),c=t.classList.contains("active");(!o&&c||i)&&n()}))})),createPopups();